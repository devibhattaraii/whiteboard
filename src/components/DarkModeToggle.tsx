import "./ToolIcon.scss";

import React from "react";
import { t } from "../i18n";
import { ToolButton } from "./ToolButton";

export type Appearence = "light" | "dark";

// We chose to use only explicit toggle and not a third option for system value,
// but this could be added in the future.
export const DarkModeToggle = (props: {
  value: Appearence;
  onChange: (value: Appearence) => void;
  title?: string;
}) => {
  const title =
    props.title ||
    (props.value === "dark" ? t("buttons.lightMode") : t("buttons.darkMode"));

  return (
    <ToolButton
      type="icon"
      icon={props.value === "light" ? ICONS.MOON : ICONS.SUN}
      title={title}
      aria-label={title}
      onClick={() => props.onChange(props.value === "dark" ? "light" : "dark")}
      data-testid="toggle-dark-mode"
    />
  );
};

const ICONS = {
  SUN: (
    <svg
      id="Layer_1"
      data-name="Layer 1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 113.79 122.88"
    >
      <defs>
        <style></style>
      </defs>
      <title>electricity</title>
      <path d="M33.31,85.15C31.89,83.53,30.44,81.87,29,80a40.57,40.57,0,0,1-4.14-6.92h0a41.19,41.19,0,0,1-2.8-8,35.61,35.61,0,0,1-.95-8.43h0a35.78,35.78,0,0,1,1.17-8.73,41.62,41.62,0,0,1,3.41-8.81l.2-.36A35.34,35.34,0,0,1,33,30.09a33.5,33.5,0,0,1,9.43-5.81l.29-.11a35.14,35.14,0,0,1,8-2.13,37.61,37.61,0,0,1,8.75-.2,38.63,38.63,0,0,1,8.37,1.71A37.79,37.79,0,0,1,75.64,27a35.42,35.42,0,0,1,8.58,7.07A32.4,32.4,0,0,1,90,43.34h0a37.48,37.48,0,0,1,1.85,5.93,35,35,0,0,1,.24,14,38.35,38.35,0,0,1-2.16,7.3l-.11.25c-2,5-5.58,9.84-9,14.62-1.74,2.42-3.47,4.81-4.92,7.13a4.71,4.71,0,0,1-4.33,2.18L44.05,98.84a4.7,4.7,0,0,1-5.21-3.41,38.85,38.85,0,0,0-2.53-5.8,24.22,24.22,0,0,0-3-4.48Zm38.45,29.23a17.34,17.34,0,0,1-6.26,6.27,16.38,16.38,0,0,1-7.19,2.2,14.86,14.86,0,0,1-7.39-1.44,15.07,15.07,0,0,1-4.38-3.26l25.22-3.77Zm2.4-14.11,0,1.65,0,.57a23.51,23.51,0,0,1,0,3.25l-.5,2.38-30.56,4.54-.53-1.22-1.19-4.88,0-1.42,32.7-4.87Z" />
      <path d="M36.83,82.06a45.35,45.35,0,0,1-7.7-11,33.3,33.3,0,0,1-3.32-14.43,33.81,33.81,0,0,1,4.06-15.42l.06-.1h0A29.3,29.3,0,0,1,44.21,28.63,31.73,31.73,0,0,1,59.07,26.5a34.18,34.18,0,0,1,14.18,4.57,29.35,29.35,0,0,1,12.39,14,30.63,30.63,0,0,1-.07,23.71c-2.81,7-9.38,14.42-13.68,21.27a1.93,1.93,0,0,0-.72,0l-27.8,4.13a37.18,37.18,0,0,0-6.54-12.13Z" />
      <path d="M61.68,53.58h6.47a1.69,1.69,0,0,1,1.4,2.64L54.16,82.49a1.7,1.7,0,0,1-3.11-1.22l2.27-16.11-7.65.13A1.7,1.7,0,0,1,44,63.63a1.77,1.77,0,0,1,.24-.89L59.33,36.49a1.69,1.69,0,0,1,3.13,1.1l-.78,16ZM56.19,3.76A3.84,3.84,0,0,1,60.07,0h0l.26,0A3.89,3.89,0,0,1,62.8,1.19a3.86,3.86,0,0,1,1.05,2.69h0a1.27,1.27,0,0,1,0,.2l-.2,8.19h0a2.46,2.46,0,0,1,0,.26,3.81,3.81,0,0,1-3.86,3.52h0l-.27,0A3.83,3.83,0,0,1,56,12.18h0a1.27,1.27,0,0,1,0-.2l.2-8.22ZM14,18.1a3.9,3.9,0,0,1-1.22-2.67,3.83,3.83,0,0,1,3.69-4,3.84,3.84,0,0,1,2.75,1l6.14,5.72a3.91,3.91,0,0,1,1.22,2.68,3.77,3.77,0,0,1-1,2.74,3.82,3.82,0,0,1-5.41.21L14,18.1Zm-10,42.22A3.86,3.86,0,0,1,0,56.6a3.78,3.78,0,0,1,1-2.75,3.81,3.81,0,0,1,2.68-1.2l8.38-.29a3.84,3.84,0,0,1,4,3.72v.06h0v.14A3.82,3.82,0,0,1,12.34,60h-.15l-8.28.28ZM109.6,48.43h.13a3.86,3.86,0,0,1,2.65.85,3.91,3.91,0,0,1,1.4,2.59v0a.49.49,0,0,1,0,.13,3.84,3.84,0,0,1-3.44,4L102,57a3.84,3.84,0,0,1-4.21-3.42,3.84,3.84,0,0,1,3.43-4.21c2.78-.3,5.58-.62,8.37-.89ZM93.08,15a3.82,3.82,0,0,1,5.31-1h0A3.78,3.78,0,0,1,100,16.44a3.88,3.88,0,0,1-.57,2.88l-4.67,7A3.84,3.84,0,1,1,88.4,22l4.68-7Z" />
    </svg>
  ),
  MOON: (
    <svg
      id="Layer_1"
      data-name="Layer 1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 122.56 122.88"
    >
      <defs>
        <style></style>
      </defs>
      <title>night</title>
      <path d="M121.85,87.3A64.31,64.31,0,1,1,36.88.4c2.94-1.37,5.92.91,4.47,4.47a56.29,56.29,0,0,0,75.75,77.4l.49-.27a3.41,3.41,0,0,1,4.61,4.61l-.35.69ZM92.46,74.67H92A16.11,16.11,0,0,0,76.2,58.93v-.52a15.08,15.08,0,0,0,11-4.72,15.19,15.19,0,0,0,4.72-11h.51a15.12,15.12,0,0,0,4.72,11,15.12,15.12,0,0,0,11,4.72v.51A16.13,16.13,0,0,0,92.46,74.67Zm10.09-46.59h-.27a7.94,7.94,0,0,0-2.49-5.81A7.94,7.94,0,0,0,94,19.78v-.27A7.94,7.94,0,0,0,99.79,17a8,8,0,0,0,2.49-5.8h.27A8,8,0,0,0,105,17a8,8,0,0,0,5.81,2.49v.27A8,8,0,0,0,105,22.27a7.94,7.94,0,0,0-2.49,5.81Zm-41.5,8h-.41a12.06,12.06,0,0,0-3.78-8.82A12.06,12.06,0,0,0,48,23.5v-.41a12.07,12.07,0,0,0,8.82-3.78,12.09,12.09,0,0,0,3.78-8.82h.41a12.08,12.08,0,0,0,3.77,8.82,12.09,12.09,0,0,0,8.83,3.78v.41a12.09,12.09,0,0,0-8.83,3.78,12.08,12.08,0,0,0-3.77,8.82Z" />
    </svg>
  ),
};
